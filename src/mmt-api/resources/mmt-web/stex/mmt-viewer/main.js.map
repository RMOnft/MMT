{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;AAAA;;AAEO,SAASC,GAAT,GAAe;EACpB,MAAMC,UAAU,GAAIC,MAAD,CAAgBC,QAAhB,GAA4BD,MAAD,CAAgBE,WAA9D;EACA,oBAAO,8DAAC,8EAAD;IAAmB,UAAU,EAAEH;EAA/B;IAAA;IAAA;IAAA;EAAA,QAAP;AACD;AAED,iEAAeD,GAAf;;;;;;;;;;;;;;ACPA;AACA;AAEA;;AAEA,MAAMO,IAAI,GAAGD,wDAAA,CACXG,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CADW,CAAb;AAGAH,IAAI,CAACI,MAAL,eACE,8DAAC,6CAAD;EAAA,uBACE,8DAAC,gDAAD;IAAA;IAAA;IAAA;EAAA;AADF;EAAA;EAAA;EAAA;AAAA,aADF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AERA;AACA;AACA;AACA;;;AAEO,SAASQ,cAAT,CAAwB;EAC7BC,GAD6B;EAE7BC,cAAc,GAAIC,CAAD,IAAOA,CAFK;EAG7BC,WAAW,GAAG;AAHe,CAAxB,EAQJ;EACD,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,+CAAQ,eAAM,6IAAN,CAAxC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,+CAAQ,CAAC,KAAD,CAA1C;EAEA,MAAM,CAACU,mBAAD,EAAsBC,sBAAtB,IAAgDX,+CAAQ,CAAC,EAAD,CAA9D;EACA,MAAMY,KAAK,GAAGb,8CAAO,CACnB,OAAO;IAAEW,mBAAF;IAAuBC;EAAvB,CAAP,CADmB,EAEnB,CAACD,mBAAD,CAFmB,CAArB;EAKAZ,gDAAS,CAAC,MAAM;IACdW,YAAY,CAAC,IAAD,CAAZ;IACAd,gDAAA,CACOO,GADP,EAEGY,KAFH,CAEUC,EAAD,IAAQ,IAFjB,EAGGC,IAHH,CAGSC,CAAD,IAAO;MACXR,YAAY,CAAC,KAAD,CAAZ;MACA,IAAIS,MAAJ;MACA,IAAID,CAAJ,EAAOC,MAAM,GAAGrB,0DAAc,CAACoB,CAAC,CAACE,IAAH,EAASd,WAAT,CAAvB,CAAP,KACKa,MAAM,gBAAG;QAAM,KAAK,EAAE;UAAEE,KAAK,EAAE;QAAT,CAAb;QAAA,8BAA+ClB,GAA/C;MAAA;QAAA;QAAA;QAAA;MAAA,QAAT;MACLK,WAAW,CAACW,MAAD,CAAX;IACD,CATH;EAUD,CAZQ,EAYN,CAAChB,GAAD,EAAMG,WAAN,CAZM,CAAT;;EAcA,IAAIG,SAAJ,EAAe;IACb,oBACE;MAAA,wBACE;QAAM,KAAK,EAAE;UAAEa,QAAQ,EAAE;QAAZ,CAAb;QAAA,UAAuCnB;MAAvC;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,8DAAC,qDAAD;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA,gBADF;EAMD;;EACD,oBACE,8DAAC,iEAAD;IAA2B,KAAK,EAAEU,KAAlC;IAAA,UAA0CT,cAAc,CAACG,QAAD;EAAxD;IAAA;IAAA;IAAA;EAAA,QADF;AAGD;;;;;;;;;;;;;;;;;;;;;;;;;;AChDD;AACA;AACA;AACA;AACA;;AAEO,SAASoB,iBAAT,CAA2B;EAChC3C,UADgC;EAEhC4C;AAFgC,CAA3B,EAMJ;EACD,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwC7B,+CAAQ,CAAC,KAAD,CAAtD;EACA,MAAM,CAAC8B,MAAD,EAASC,SAAT,IAAsB/B,+CAAQ,CAAC,KAAD,CAApC;;EAEA,MAAMgC,WAAW,GAAG,MAAM;IACxBH,kBAAkB,CAAC,IAAD,CAAlB;IACAE,SAAS,CAAEE,CAAD,IAAO,CAACA,CAAT,CAAT;EACD,CAHD;;EAKA,oBACE,8DAAC,qDAAD;IAAK,CAAC,EAAC,OAAP;IAAA,wBACE,8DAAC,qDAAD;MACE,OAAO,EAAC,MADV;MAEE,UAAU,EAAC,QAFb;MAGE,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAV,CAHN;MAIE,OAAO,EAAEF,WAJX;MAAA,wBAME,8DAAC,qDAAD;QACE,EAAE,EAAE;UAAEZ,KAAK,EAAE,MAAT;UAAiBe,CAAC,EAAE;QAApB,CADN;QAEE,OAAO,EAAGC,CAAD,IAAO;UACdA,CAAC,CAACC,eAAF;UACAL,WAAW;QACZ,CALH;QAAA,UAOGF,MAAM,gBACL,8DAAC,yFAAD;UAAmC,EAAE,EAAE;YAAET,QAAQ,EAAE;UAAZ;QAAvC;UAAA;UAAA;UAAA;QAAA,QADK,gBAGL,8DAAC,0EAAD;UAAoB,EAAE,EAAE;YAAEA,QAAQ,EAAE;UAAZ;QAAxB;UAAA;UAAA;UAAA;QAAA;MAVJ;QAAA;QAAA;QAAA;MAAA,QANF,eAmBE,8DAAC,qDAAD;QACE,EAAE,EAAE;UACF,WAAW;YAAEiB,UAAU,EAAE;UAAd,CADT;UAEFC,KAAK,EAAE,aAFL;UAGFC,EAAE,EAAE,KAHF;UAIFC,EAAE,EAAE,MAJF;UAKFC,YAAY,EAAE;QALZ,CADN;QAAA,uBASE;UAAG,KAAK,EAAE;YAAErB,QAAQ,EAAE;UAAZ,CAAV;UAAA,UAAkCM;QAAlC;UAAA;UAAA;UAAA;QAAA;MATF;QAAA;QAAA;QAAA;MAAA,QAnBF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAiCGC,eAAe,iBACd,8DAAC,qDAAD;MAAK,MAAM,EAAE,CAACE,MAAd;MAAsB,EAAE,EAAC,KAAzB;MAA+B,EAAE,EAAC,MAAlC;MAAyC,UAAU,EAAC,gBAApD;MAAA,uBAEE,8DAAC,2DAAD;QACE,GAAG,EAAE/C,UADP;QAEE,cAAc,EAAG4D,QAAD;UAAA;;UAAA,OAAcA,QAAd,uCAAcA,QAAQ,CAAEC,KAAxB,qBAAc,gBAAiBC,QAA/B;QAAA;MAFlB;QAAA;QAAA;QAAA;MAAA;IAFF;MAAA;MAAA;MAAA;IAAA,QAlCJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6CD;;;;;;;;;;;;;;;;;;;;;;;;;;;AClED;AACA;AACA;AACA;;;AAOO,SAASK,aAAT,CAAuB;EAAEnE,UAAF;EAAcoE;AAAd,CAAvB,EAAwE;EAC7E,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBrD,+CAAQ,CAAC,KAAD,CAAhC;EACA,oBACE;IAAA,wBACE;MAAK,KAAK,EAAE;QAAEsD,OAAO,EAAE;MAAX,CAAZ;MAAmC,OAAO,EAAE,MAAMD,OAAO,CAAC,IAAD,CAAzD;MAAA,UACGF;IADH;MAAA;MAAA;MAAA;IAAA,QADF,eAIE,8DAAC,qDAAD;MAAQ,OAAO,EAAE,MAAME,OAAO,CAAC,KAAD,CAA9B;MAAuC,IAAI,EAAED,IAA7C;MAAmD,QAAQ,EAAC,IAA5D;MAAA,wBACE;QAAG,KAAK,EAAE;UAAEG,UAAU,EAAE;QAAd,CAAV;QAAkC,IAAI,EAAExE,UAAxC;QAAoD,MAAM,EAAC,QAA3D;QAAoE,GAAG,EAAC,YAAxE;QAAA,uBACE,8DAAC,qDAAD;UAAA,uBACE,8DAAC,2DAAD;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAME,8DAAC,2DAAD;QAAgB,GAAG,EAAEA,UAArB;QAAiC,cAAc,EAAG4D,QAAD;UAAA;;UAAA,OAAcA,QAAd,uCAAcA,QAAQ,CAAEC,KAAxB,qBAAc,gBAAiBC,QAA/B;QAAA;MAAjD;QAAA;QAAA;QAAA;MAAA,QANF,eAQE,8DAAC,qDAAD;QAAA,uBACE,8DAAC,qDAAD;UAAQ,OAAO,EAAE,MAAMQ,OAAO,CAAC,KAAD,CAA9B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF;EAAA,gBADF;AAmBD;;;;;;;;;;;;;;;;;;;;;;;;;AC/BD;AACA;AACA;;;AAEO,SAASM,aAAT,CAAuB;EAAEC;AAAF,CAAvB,EAAwE;EAC7E;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B9D,+CAAQ,CAAqB,IAArB,CAAxC;EACA,MAAMoD,IAAI,GAAGW,OAAO,CAACF,QAAD,CAApB;;EACA,MAAMG,WAAW,GAAIC,KAAD,IAAgD;IAClEH,WAAW,CAACG,KAAK,CAACC,aAAP,CAAX;EACD,CAFD;;EAGA,MAAMC,WAAW,GAAG,MAAM;IACxBL,WAAW,CAAC,IAAD,CAAX;EACD,CAFD,CAP6E,CAU7E;;;EACA,oBACE;IAAA,wBACE,8DAAC,qDAAD;MAAY,OAAO,EAAEE,WAArB;MAAA,uBACE,8DAAC,wEAAD;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAKE,8DAAC,qDAAD;MACE,EAAE,EAAC,YADL;MAEE,QAAQ,EAAEH,QAFZ;MAGE,IAAI,EAAET,IAHR;MAIE,OAAO,EAAEe,WAJX;MAKE,aAAa,EAAE;QACb,mBAAmB;MADN,CALjB;MAAA,UASGP,eAAe,CAACQ,GAAhB,CAAoBC,OAAO,iBAC1B,8DAAC,qDAAD;QAAU,KAAK,EAAE;UAAEhD,QAAQ,EAAE;QAAZ,CAAjB;QAAA,UAAyCgD;MAAzC;QAAA;QAAA;QAAA;MAAA,QADD;IATH;MAAA;MAAA;MAAA;IAAA,QALF;EAAA,gBADF;AAqBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCD;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;;;AAEA,MAAMU,SAAS,GAAG,OAAO/F,MAAP,KAAkB,WAApC;AACO,MAAMC,QAAQ,WAClB8F,SAAS,GAAG,IAAH,GAAW/F,MAAD,CAAgBC,QADjB,mBAEnB,yCAFK;AAGA,MAAM+F,UAAU,GAAGD,SAAS,GAAGE,SAAH,GAAeC,YAA3C;AAEP,MAAMC,iBAAiB,GAAGb,iEAAM,CAAC;EAAA,IAAC;IAAEc;EAAF,CAAD;EAAA,IAAiBxC,KAAjB;;EAAA,oBAC/B,+DAAC,8DAAD,oBAAaA,KAAb;IAAoB,OAAO,EAAE;MAAEyC,MAAM,EAAED;IAAV;EAA7B;IAAA;IAAA;IAAA;EAAA,aAD+B;AAAA,CAAD,CAAN,CAEvB;EACD,CAAE,MAAKZ,sEAAuB,EAA9B,GAAkC;IAChCe,QAAQ,EAAE,MADsB;IAEhCC,eAAe,EAAE;EAFe;AADjC,CAFuB,CAA1B;;AASA,SAASC,cAAT,CAAwBC,KAAxB,EAAuCC,GAAvC,EAAoD;EAClD,MAAMC,KAAK,GAAGF,KAAK,CAACG,OAAN,CAAcF,GAAd,CAAd;EACA,IAAIC,KAAK,KAAK,CAAC,CAAf,EAAkB,OAAOF,KAAP;EAClB,MAAMI,GAAG,GAAGJ,KAAK,CAACG,OAAN,CAAc,GAAd,EAAmBD,KAAK,GAAG,CAA3B,CAAZ;EACA,IAAIE,GAAG,KAAK,CAAC,CAAb,EAAgB,OAAOJ,KAAP;EAChB,OAAOA,KAAK,CAACK,SAAN,CAAgB,CAAhB,EAAmBH,KAAnB,IAA4BF,KAAK,CAACK,SAAN,CAAgBD,GAAG,GAAG,CAAtB,CAAnC;AACD,EAED;;;AACA,SAASE,qBAAT,CAA+BC,QAA/B,EAAsD;EAAA;;EACpD,MAAMC,IAAI,GAAGD,QAAH,uCAAGA,QAAQ,CAAErD,KAAb,8CAAG,gBAAiBC,QAApB,qBAAG,sBAA4B,CAA5B,CAAb;EACA,OAAOqD,IAAP,mCAAOA,IAAI,CAAEtD,KAAb,qBAAO,YAAaC,QAApB;AACD;;AAED,SAASsD,SAAT,CAAmBC,IAAnB,EAAkC;EAAA;;EAChC,OAAO,CAAAA,IAAI,QAAJ,6BAAAA,IAAI,CAAEC,OAAN,mCAAgB,OAAhB,OAA6B,SAApC;AACD;;AAED,SAASC,SAAT,CAAmBF,IAAnB,EAAkC;EAAA;;EAChC,IAAI,CAAAA,IAAI,QAAJ,YAAAA,IAAI,CAAEG,IAAN,MAAe,MAAf,IAAyB,CAACH,IAAD,6BAACA,IAAD,CAAejF,IAAf,2BAAqBqF,IAArB,GAA4BC,MAA5B,MAAuC,CAApE,EACE,OAAO,KAAP;EACF,MAAMC,gBAAgB,GAAGN,IAAH,sCAAGA,IAAI,CAAEC,OAAT,qBAAG,eAAgB,cAAhB,CAAzB;EACA,OAAOD,IAAI,IAAIM,gBAAgB,KAAK,OAApC;AACD;;AAED,SAASC,UAAT,CAAoBP,IAApB,EAAmC;EAAA;;EACjC,IAAI,CAACA,IAAL,EAAW,OAAO,KAAP;EACX,IAAI,oBAACA,IAAI,CAACvD,QAAN,aAAC,eAAe4D,MAAhB,CAAJ,EAA4B,OAAO,IAAP;EAC5B,OAAOL,IAAI,CAACQ,IAAL,KAAc,WAAd,IAA6BT,SAAS,CAACC,IAAD,CAA7C;AACD;;AAED,SAASS,mBAAT,CAA6BT,IAA7B,EAAiD;EAC/C,IAAI,CAACA,IAAD,IAAS,CAACE,SAAS,CAACF,IAAD,CAAvB,EAA+B;IAC7B,OAAO,IAAP;EACD;;EACD,IAAIO,UAAU,CAACP,IAAD,CAAd,EAAsB,OAAOA,IAAP;;EACtB,KAAK,MAAMU,KAAX,IAAoBV,IAAI,CAACvD,QAAzB,EAAmC;IACjC,MAAMkE,KAAK,GAAGF,mBAAmB,CAACC,KAAD,CAAjC;IACA,IAAIC,KAAJ,EAAW,OAAOA,KAAP;EACZ;;EACD,OAAO,IAAP;AACD;;AAED,SAASC,WAAT,CAAqBC,OAArB,EAAuC;EACrC,IAAIC,YAAY,GAAG,IAAnB;EACA,IAAIC,OAAY,GAAGF,OAAnB;;EACA,OAAO,CAACC,YAAD,IAAiBC,OAAxB,EAAiC;IAC/BD,YAAY,GAAGC,OAAO,CAACC,WAAvB;;IACA,OAAOF,YAAY,IAAI,CAACZ,SAAS,CAACY,YAAD,CAAjC,EAAiD;MAC/CA,YAAY,GAAGA,YAAY,CAACE,WAA5B;IACD;;IACDD,OAAO,GAAGA,OAAO,CAACE,MAAlB;EACD;;EACD,IAAI,CAACH,YAAL,EAAmB,OAAO,IAAP;EACnB,OAAOL,mBAAmB,CAACK,YAAD,CAA1B;AACD;;AAED,SAASI,iBAAT,CAA2BL,OAA3B,EAA6C;EAC3C,MAAMM,UAAU,GAAG,EAAnB;EACA,IAAIC,IAAI,GAAGR,WAAW,CAACC,OAAD,CAAtB;;EACA,OAAOd,SAAS,CAACqB,IAAD,CAAhB,EAAwB;IACtBA,IAAI,CAACnB,OAAL,CAAa,YAAb,IAA6B,IAA7B;IACAkB,UAAU,CAACE,IAAX,CAAgBD,IAAhB;IACAA,IAAI,GAAGR,WAAW,CAACQ,IAAD,CAAlB;EACD;;EACD,OAAOD,UAAP;AACD;;AAEM,MAAM3H,gBAAgB,gBAAGgF,oDAAa,CAAC;EAC5ClE,mBAAmB,EAAE,EADuB;EAE5CC,sBAAsB,EAAG+G,GAAD,IAAiB;IACvC;EACD;AAJ2C,CAAD,CAAtC;;AAOP,SAASC,aAAT,CAAuB;EACrBC,WADqB;EAErBX;AAFqB,CAAvB,EAMG;EACD,MAAM;IAAEvG,mBAAF;IAAuBC;EAAvB,IACJmE,iDAAU,CAAClF,gBAAD,CADZ;EAEA,MAAM4F,eAAe,GACnB9E,mBAAmB,KAAKkH,WAAxB,GAAsC,QAAtC,GAAiD3C,SADnD;EAEA,oBACE;IACE,WAAW,EAAE,MAAMtE,sBAAsB,CAACiH,WAAD,CAD3C;IAEE,UAAU,EAAE,MAAMjH,sBAAsB,CAAC,EAAD,CAF1C;IAGE,KAAK,EAAE;MAAE6E,eAAF;MAAmBtD,MAAM,EAAE;IAA3B,CAHT;IAAA,UAKGwC,6DAAU,CAAC,CAACuC,OAAD,CAAD,EAAY;MAAEY;IAAF,CAAZ;EALb;IAAA;IAAA;IAAA;EAAA,QADF;AASD;;AAED,MAAMA,OAAO,GAAG,CAACZ,OAAD,EAAmB5G,WAAW,GAAG,KAAjC,KAA2C;EAAA;;EACzD,IAAI,EAAE4G,OAAO,YAAYtC,sDAArB,CAAJ,EAAmC;;EAEnC,IAAIwB,SAAS,CAACc,OAAD,CAAb,EAAwB;IAAA;;IACtB,IAAI5G,WAAJ,EAAiB,oBAAO,+IAAP;;IAEjB,wBAAI4G,OAAO,CAACZ,OAAZ,aAAI,iBAAkB,YAAlB,CAAJ,EAAqC;MACnC,oBAAO,+IAAP;IACD;;IACD,MAAMkB,UAAU,GAAGD,iBAAiB,CAACL,OAAD,CAApC;IAEA,oBACE;MAAA,WACG,CAACA,OAAD,EAAU,GAAGM,UAAb,EAAyBnD,GAAzB,CAA6B,CAAC0D,WAAD,EAAcC,GAAd,kBAC5B,+DAAC,sDAAD;QAEE,MAAM,EAAC,KAFT;QAGE,QAAQ,EAAC,OAHX;QAIE,OAAO,EAAE;UAAEC,EAAE,EAAE,MAAN;UAAcC,EAAE,EAAE;QAAlB,CAJX;QAAA,uBAME;UACE,SAAS,EAAC,iBADZ;UAEE,KAAK,EAAE;YAAEC,SAAS,EAAG,GAAEH,GAAG,GAAG,EAAG;UAAzB,CAFT;UAAA,UAIGrD,6DAAU,CAACoD,WAAW,CAACjF,QAAb,EAAuB;YAAEgF;UAAF,CAAvB;QAJb;UAAA;UAAA;UAAA;QAAA;MANF,GACOE,GADP;QAAA;QAAA;QAAA;MAAA,aADD,CADH,eAiBE,+DAAC,sDAAD;QAAK,MAAM,EAAC,KAAZ;QAAkB,OAAO,EAAE;UAAEC,EAAE,EAAE,OAAN;UAAeC,EAAE,EAAE;QAAnB,CAA3B;QAAA,uBACE;UAAK,SAAS,EAAC,sBAAf;UAAA,uBACE,+DAAC,0DAAD;YACE,eAAe,EAAE,CAAChB,OAAD,EAAU,GAAGM,UAAb,EAAyBnD,GAAzB,CAA8BC,OAAD,IAC5CK,6DAAU,CAACL,OAAO,CAACxB,QAAT,EAAmB;cAAEgF;YAAF,CAAnB,CADK;UADnB;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,aAjBF;IAAA,gBADF;EA6BD;;EAED,IAAI,CAACvB,SAAS,CAACW,OAAD,CAAd,EAAyB,oBAAO,+IAAP;EAEzB,MAAMkB,QAAQ,GAAGlB,OAAO,CAACmB,eAAzB;;EACA,IACE,CAAAD,QAAQ,QAAR,iCAAAA,QAAQ,CAAE9B,OAAV,uCAAmBgC,KAAnB,MAA6B,SAA7B,IACA,sBAAApB,OAAO,CAACZ,OAAR,uCAAkB,OAAlB,OAA+B,SAFjC,EAGE,CACA;IACA;EACD;;EACD,IACEY,OAAO,CAACL,IAAR,KAAiB,MAAjB,IACAK,OAAO,CAACL,IAAR,KAAiB,QADjB,IAEAK,OAAO,CAACL,IAAR,KAAiB,QAHnB,EAIE;IACA,oBAAO,+IAAP;EACD;;EACD,IAAI,EAAC5B,UAAD,YAACA,UAAU,CAAEsD,OAAZ,CAAoB,eAApB,CAAD,CAAJ,EAA2C;IAAA;;IACzC;IACA,IAAI,sBAAArB,OAAO,CAACZ,OAAR,uCAAkB,OAAlB,OAA+B,MAAnC,EAA2C;MAAA;;MACzCY,OAAO,CAACZ,OAAR,CAAgB,OAAhB,IAA2BZ,cAAc,CACvCA,cAAc,sBAACwB,OAAO,CAACZ,OAAT,qBAAC,kBAAkB,OAAlB,CAAD,EAA6B,cAA7B,CADyB,EAEvC,eAFuC,CAAzC;IAID;;IAED,yBAAIY,OAAO,CAACZ,OAAZ,aAAI,kBAAkB,OAAlB,CAAJ,EAAgC;MAAA;;MAC9BY,OAAO,CAACZ,OAAR,CAAgB,OAAhB,IAA2BZ,cAAc,CACvCA,cAAc,sBAACwB,OAAO,CAACZ,OAAT,qBAAC,kBAAkB,OAAlB,CAAD,EAA6B,WAA7B,CADyB,EAEvC,OAFuC,CAAzC;IAID;EACF;;EAED,MAAMkC,SAAS,GAAGtB,OAAO,CAACZ,OAAR,CAAgB,yBAAhB,CAAlB;EACA,MAAMmC,SAAS,GAAGvB,OAAO,CAACZ,OAAR,CAAgB,yBAAhB,CAAlB;EACA,MAAMoC,WAAW,GAAGxB,OAAO,CAACZ,OAAR,CAAgB,uBAAhB,CAApB;;EACA,IAAI,CAACkC,SAAS,IAAIC,SAAd,KAA4B,CAACvB,OAAO,CAACZ,OAAR,CAAgB,WAAhB,CAAjC,EAA+D;IAC7DY,OAAO,CAACZ,OAAR,CAAgB,WAAhB,IAA+B,OAA/B;IACA,MAAMqC,WAAW,GAAGzJ,QAAQ,GAAGsJ,SAA/B;IACA,MAAMI,UAAU,GAAG1J,QAAQ,GAAGuJ,SAA9B,CAH6D,CAI7D;;IACA,MAAMI,iBAAiB,gBAAG/D,iDAAU,CAAC,CAACjC,KAAD,EAAQiG,GAAR,KAAgB;MACnD,oBACE,wFACMjG,KADN;QAEE,KAAK,EAAE;UAAEU,OAAO,EAAE,QAAX;UAAqBpB,MAAM,EAAE;QAA7B,CAFT;QAGE,GAAG,EAAE2G,GAHP;QAAA,uBAKE,+DAAC,aAAD;UAAe,OAAO,EAAE5B,OAAxB;UAAiC,WAAW,EAAEwB;QAA9C;UAAA;UAAA;UAAA;QAAA;MALF;QAAA;QAAA;QAAA;MAAA,aADF;IASD,CAVmC,CAApC;IAWA,oBACE,+DAAC,0DAAD;MACE,UAAU,EAAEE,UADd;MAEE,WAAW,eACT,+DAAC,iBAAD;QACE,KAAK,eACH;UAAK,KAAK,EAAE;YAAEG,QAAQ,EAAE,OAAZ;YAAqBvD,QAAQ,EAAE;UAA/B,CAAZ;UAAA,uBACE,+DAAC,2DAAD;YACE,GAAG,EAAEmD,WADP;YAEE,cAAc,EAAGtI,CAAD,IAAO4F,qBAAqB,CAAC5F,CAAD;UAF9C;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,aAFJ;QAAA,UAUGqI,WAAW,gBACV,+DAAC,iBAAD;UAAA;UAAA;UAAA;QAAA,aADU,GAGT/D,6DAAU,CAAC,CAACuC,OAAD,CAAD,EAAY;UAAEY;QAAF,CAAZ;MAbf;QAAA;QAAA;QAAA;MAAA;IAHJ;MAAA;MAAA;MAAA;IAAA,aADF;EAuBD;;EAED,IAAIY,WAAW,IAAI,CAACxB,OAAO,CAACZ,OAAR,CAAgB,WAAhB,CAApB,EAAkD;IAChDY,OAAO,CAACZ,OAAR,CAAgB,WAAhB,IAA+B,QAA/B;IACA,oBAAO,+DAAC,aAAD;MAAe,OAAO,EAAEY,OAAxB;MAAiC,WAAW,EAAEwB;IAA9C;MAAA;MAAA;MAAA;IAAA,aAAP;EACD,CA3HwD,CA6HzD;;;EACA,IAAIxB,OAAO,CAACZ,OAAR,CAAgB,SAAhB,CAAJ,EAAgC;IAC9B,MAAM0C,EAAE,GAAG,4BAAX;IACA,MAAMC,OAAO,GAAGD,EAAE,CAACE,IAAH,CAAQhC,OAAO,CAACZ,OAAR,CAAgB,SAAhB,CAAR,CAAhB;IACA,MAAM6C,IAAI,GAAGjK,QAAQ,IAAG+J,OAAH,oBAAGA,OAAO,CAAG,CAAH,CAAV,CAArB;IACA,oBACE,+DAAC,0DAAD;MACE,UAAU,EAAEE,IADd;MAEE,WAAW,eAAE;QAAA,UAAGxE,6DAAU,CAAC,CAACuC,OAAD,CAAD;MAAb;IAFf;MAAA;MAAA;MAAA;IAAA,aADF;EAMD;;EACD,IAAI,sBAAAA,OAAO,CAACZ,OAAR,uCAAkB,OAAlB,OAA+B,UAAnC,EAA+C;IAC7C,MAAM8C,QAAQ,GAAGlC,OAAO,CAACZ,OAAR,CAAgB,mBAAhB,CAAjB;IACA,oBACE,+DAAC,iEAAD;MACE,UAAU,EAAEpH,QAAQ,GAAGkK,QADzB;MAEE,KAAK,EAAEzE,6DAAU,CAACuC,OAAO,CAACpE,QAAT,EAAmB;QAAEgF;MAAF,CAAnB;IAFnB;MAAA;MAAA;MAAA;IAAA,aADF;EAMD;;EACD;AACD,CAnJD;;AAqJO,SAAShI,cAAT,CAAwBuJ,IAAxB,EAAsC/I,WAAW,GAAG,KAApD,EAA2D;EAChE,OAAOoE,6DAAe,CAAC2E,IAAD,EAAO;IAC3BvB,OAAO,EAAGwB,CAAD,IAAYxB,OAAO,CAACwB,CAAD,EAAIhJ,WAAJ;EADD,CAAP,CAAtB;AAGD;;;;;;;;;;;;;;;;;;;ACvRD;AACA;AACA;;AAEO,MAAMiJ,QAAQ,GAAG,oBAAjB;AAEA,SAASzK,iBAAT,CAA2B;EAAEE;AAAF,CAA3B,EAAmE;EACxE,oBACE,8DAAC,qDAAD;IAAK,OAAO,EAAC,MAAb;IAAA,wBACE,8DAAC,qDAAD;MAAK,QAAQ,EAAE,CAAf;MAAkB,SAAS,EAAE,GAA7B;MAAkC,OAAO,EAAEuK,QAA3C;MAAA,uBACE,8DAAC,qDAAD;QAAK,CAAC,EAAC,eAAP;QAAuB,QAAQ,EAAC,OAAhC;QAAwC,CAAC,EAAC,QAA1C;QAAmD,OAAO,EAAEA,QAA5D;QAAA,uBACE,8DAAC,2DAAD;UACE,GAAG,EAAEvK,UADP;UAEE,cAAc,EAAG4D,QAAD;YAAA;;YAAA,OAAcA,QAAd,uCAAcA,QAAQ,CAAEC,KAAxB,qBAAc,gBAAiBC,QAA/B;UAAA;QAFlB;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eASE,8DAAC,qDAAD;MACE,SAAS,EAAE,GADb;MAEE,OAAO,EAAE;QAAEmF,EAAE,EAAE,MAAN;QAAcC,EAAE,EAAE;MAAlB,CAFX;MAGE,OAAO,EAAEqB;IAHX;MAAA;MAAA;MAAA;IAAA,QATF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD","sources":["webpack:///./src/app/app.tsx","webpack:///./src/main.tsx","webpack:///../../libs/stex-react-renderer/src/index.ts","webpack:///../../libs/stex-react-renderer/src/lib/ContentFromUrl.tsx","webpack:///../../libs/stex-react-renderer/src/lib/ExpandableContent.tsx","webpack:///../../libs/stex-react-renderer/src/lib/OverlayDialog.tsx","webpack:///../../libs/stex-react-renderer/src/lib/SidebarButton.tsx","webpack:///../../libs/stex-react-renderer/src/lib/mmtParser.tsx","webpack:///../../libs/stex-react-renderer/src/lib/stex-react-renderer.tsx"],"sourcesContent":["import { StexReactRenderer } from '@stex-react/stex-react-renderer';\n\nexport function App() {\n  const contentUrl = (window as any).BASE_URL + (window as any).CONTENT_URL;\n  return <StexReactRenderer contentUrl={contentUrl} />;\n}\n\nexport default App;\n","import { StrictMode } from 'react';\nimport * as ReactDOM from 'react-dom/client';\n\nimport App from './app/app';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n","export * from './lib/stex-react-renderer';\n","import { LinearProgress } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { HighlightContext, mmtHTMLToReact } from \"./mmtParser\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nexport function ContentFromUrl({\r\n  url,\r\n  modifyRendered = (n) => n,\r\n  skipSidebar = false,\r\n}: {\r\n  url: string;\r\n  modifyRendered?: (node: any) => any;\r\n  skipSidebar?: boolean;\r\n}) {\r\n  const [rendered, setRendered] = useState<any>(<></>);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [highlightedParentId, setHighlightedParentId] = useState(\"\");\r\n  const value = useMemo(\r\n    () => ({ highlightedParentId, setHighlightedParentId }),\r\n    [highlightedParentId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios\r\n      .get(url)\r\n      .catch((_e) => null)\r\n      .then((r) => {\r\n        setIsLoading(false);\r\n        let toShow;\r\n        if (r) toShow = mmtHTMLToReact(r.data, skipSidebar);\r\n        else toShow = <span style={{ color: \"red\" }}>Error loading: {url}</span>;\r\n        setRendered(toShow);\r\n      });\r\n  }, [url, skipSidebar]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\r\n        <span style={{ fontSize: \"smaller\" }}>{url}</span>\r\n        <LinearProgress />\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <HighlightContext.Provider value={value}>{modifyRendered(rendered)}</HighlightContext.Provider>\r\n  );\r\n}\r\n","import AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\r\nimport IndeterminateCheckBoxOutlinedIcon from '@mui/icons-material/IndeterminateCheckBoxOutlined';\r\nimport { Box, IconButton } from '@mui/material';\r\nimport { useState } from 'react';\r\nimport { ContentFromUrl } from './ContentFromUrl';\r\n\r\nexport function ExpandableContent({\r\n  contentUrl,\r\n  title,\r\n}: {\r\n  contentUrl: string;\r\n  title: any;\r\n}) {\r\n  const [openAtLeastOnce, setOpenAtLeastOnce] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const changeState = () => {\r\n    setOpenAtLeastOnce(true);\r\n    setIsOpen((v) => !v);\r\n  };\r\n\r\n  return (\r\n    <Box m=\"4px 0\">\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        sx={{ cursor: 'pointer' }}\r\n        onClick={changeState}\r\n      >\r\n        <IconButton\r\n          sx={{ color: 'gray', p: '0' }}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            changeState();\r\n          }}\r\n        >\r\n          {isOpen ? (\r\n            <IndeterminateCheckBoxOutlinedIcon sx={{ fontSize: '20px' }} />\r\n          ) : (\r\n            <AddBoxOutlinedIcon sx={{ fontSize: '20px' }} />\r\n          )}\r\n        </IconButton>\r\n        <Box\r\n          sx={{\r\n            '&:hover': { background: '#DDD' },\r\n            width: 'fit-content',\r\n            px: '4px',\r\n            ml: '-2px',\r\n            borderRadius: '5px',\r\n          }}\r\n        >\r\n          <b style={{ fontSize: 'large' }}>{title}</b>\r\n        </Box>\r\n      </Box>\r\n\r\n      {openAtLeastOnce && (\r\n        <Box hidden={!isOpen} ml=\"9px\" pl=\"10px\" borderLeft=\"1px solid #DDD\">\r\n          {/*The extra margin consumed by each layer is equal to (ml+pl) above */}\r\n          <ContentFromUrl\r\n            url={contentUrl}\r\n            modifyRendered={(bodyNode) => bodyNode?.props?.children}\r\n          />\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import { OpenInNew } from \"@mui/icons-material\";\r\nimport { Button, Dialog, DialogActions, IconButton } from \"@mui/material\";\r\nimport { ReactNode, useState } from \"react\";\r\nimport { ContentFromUrl } from \"./ContentFromUrl\";\r\n\r\nexport interface OverlayDialogProps {\r\n  contentUrl: string;\r\n  displayNode: ReactNode;\r\n}\r\n\r\nexport function OverlayDialog({ contentUrl, displayNode }: OverlayDialogProps) {\r\n  const [open, setOpen] = useState(false);\r\n  return (\r\n    <>\r\n      <div style={{ display: \"inline\" }} onClick={() => setOpen(true)}>\r\n        {displayNode}\r\n      </div>\r\n      <Dialog onClose={() => setOpen(false)} open={open} maxWidth=\"lg\">\r\n        <a style={{ marginLeft: \"auto\" }} href={contentUrl} target=\"_blank\" rel=\"noreferrer\">\r\n          <IconButton>\r\n            <OpenInNew />\r\n          </IconButton>\r\n        </a>\r\n        <ContentFromUrl url={contentUrl} modifyRendered={(bodyNode) => bodyNode?.props?.children} />\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","import InfoOutlinedIcon from \"@mui/icons-material/InfoOutlined\";\r\nimport { IconButton, Menu, MenuItem } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\n\r\nexport function SidebarButton({ sidebarContents }: { sidebarContents: any[] }) {\r\n  // Menu crap start\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  // Menu crap end\r\n  return (\r\n    <>\r\n      <IconButton onClick={handleClick}>\r\n        <InfoOutlinedIcon />\r\n      </IconButton>\r\n\r\n      <Menu\r\n        id=\"basic-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        MenuListProps={{\r\n          \"aria-labelledby\": \"basic-button\",\r\n        }}\r\n      >\r\n        {sidebarContents.map(content =>\r\n          <MenuItem style={{ fontSize: \"small\" }}>{content}</MenuItem>\r\n        )}\r\n      </Menu>\r\n    </>\r\n  );\r\n}\r\n","import { Box } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport Tooltip, { tooltipClasses, TooltipProps } from '@mui/material/Tooltip';\r\nimport HTMLReactParser, {\r\n  DOMNode,\r\n  domToReact,\r\n  Element,\r\n} from 'html-react-parser';\r\nimport { createContext, forwardRef, useContext } from 'react';\r\nimport { ContentFromUrl } from './ContentFromUrl';\r\nimport { ExpandableContent } from './ExpandableContent';\r\nimport { OverlayDialog } from './OverlayDialog';\r\nimport { SidebarButton } from './SidebarButton';\r\n\r\nconst IS_SERVER = typeof window === 'undefined';\r\nexport const BASE_URL =\r\n  (IS_SERVER ? null : (window as any).BASE_URL) ??\r\n  'https://overleaf.beta.vollki.kwarc.info';\r\nexport const localStore = IS_SERVER ? undefined : localStorage;\r\n\r\nconst NoMaxWidthTooltip = styled(({ className, ...props }: TooltipProps) => (\r\n  <Tooltip {...props} classes={{ popper: className }} />\r\n))({\r\n  [`& .${tooltipClasses.tooltip}`]: {\r\n    maxWidth: 'none',\r\n    backgroundColor: '#616161',\r\n  },\r\n});\r\n\r\nfunction removeStyleTag(style: string, tag: string) {\r\n  const start = style.indexOf(tag);\r\n  if (start === -1) return style;\r\n  const end = style.indexOf(';', start + 1);\r\n  if (end === -1) return style;\r\n  return style.substring(0, start) + style.substring(end + 1);\r\n}\r\n\r\n// HACK: Return only the appropriate XHTML from MMT.\r\nfunction getChildrenOfBodyNode(htmlNode: JSX.Element) {\r\n  const body = htmlNode?.props?.children?.[1];\r\n  return body?.props?.children;\r\n}\r\n\r\nfunction isSidebar(node: Element) {\r\n  return node?.attribs?.['class'] === 'sidebar';\r\n}\r\n\r\nfunction isVisible(node: Element) {\r\n  if (node?.type === 'text' && (node as any)?.data?.trim().length === 0)\r\n    return false;\r\n  const visibilityAttrib = node?.attribs?.['stex:visible'];\r\n  return node && visibilityAttrib !== 'false';\r\n}\r\n\r\nfunction isLeafNode(node: Element) {\r\n  if (!node) return false;\r\n  if (!node.children?.length) return true;\r\n  return node.name === 'paragraph' || isSidebar(node);\r\n}\r\n\r\nfunction getFirstDisplayNode(node: Element): any {\r\n  if (!node || !isVisible(node)) {\r\n    return null;\r\n  }\r\n  if (isLeafNode(node)) return node;\r\n  for (const child of node.children) {\r\n    const first = getFirstDisplayNode(child as any);\r\n    if (first) return first;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction getNextNode(domNode: Element) {\r\n  let nextAncestor = null;\r\n  let current: any = domNode;\r\n  while (!nextAncestor && current) {\r\n    nextAncestor = current.nextSibling;\r\n    while (nextAncestor && !isVisible(nextAncestor)) {\r\n      nextAncestor = nextAncestor.nextSibling;\r\n    }\r\n    current = current.parent;\r\n  }\r\n  if (!nextAncestor) return null;\r\n  return getFirstDisplayNode(nextAncestor);\r\n}\r\n\r\nfunction collectNeighbours(domNode: Element) {\r\n  const neighbours = [];\r\n  let next = getNextNode(domNode);\r\n  while (isSidebar(next)) {\r\n    next.attribs['isattached'] = true;\r\n    neighbours.push(next);\r\n    next = getNextNode(next);\r\n  }\r\n  return neighbours;\r\n}\r\n\r\nexport const HighlightContext = createContext({\r\n  highlightedParentId: '',\r\n  setHighlightedParentId: (_id: string) => {\r\n    /**/\r\n  },\r\n});\r\n\r\nfunction Highlightable({\r\n  highlightId,\r\n  domNode,\r\n}: {\r\n  highlightId: string;\r\n  domNode: any;\r\n}) {\r\n  const { highlightedParentId, setHighlightedParentId } =\r\n    useContext(HighlightContext);\r\n  const backgroundColor =\r\n    highlightedParentId === highlightId ? 'yellow' : undefined;\r\n  return (\r\n    <span\r\n      onMouseOver={() => setHighlightedParentId(highlightId)}\r\n      onMouseOut={() => setHighlightedParentId('')}\r\n      style={{ backgroundColor, cursor: 'pointer' }}\r\n    >\r\n      {domToReact([domNode], { replace })}\r\n    </span>\r\n  );\r\n}\r\n\r\nconst replace = (domNode: DOMNode, skipSidebar = false) => {\r\n  if (!(domNode instanceof Element)) return;\r\n\r\n  if (isSidebar(domNode)) {\r\n    if (skipSidebar) return <></>;\r\n\r\n    if (domNode.attribs?.['isattached']) {\r\n      return <></>;\r\n    }\r\n    const neighbours = collectNeighbours(domNode);\r\n\r\n    return (\r\n      <>\r\n        {[domNode, ...neighbours].map((sidebarNode, idx) => (\r\n          <Box\r\n            key={idx}\r\n            height=\"0px\"\r\n            maxWidth=\"300px\"\r\n            display={{ xs: 'none', md: 'block' }}\r\n          >\r\n            <div\r\n              className=\"sidebarexpanded\"\r\n              style={{ marginTop: `${idx * 40}px` }}\r\n            >\r\n              {domToReact(sidebarNode.children, { replace })}\r\n            </div>\r\n          </Box>\r\n        ))}\r\n\r\n        <Box height=\"0px\" display={{ xs: 'block', md: 'none' }}>\r\n          <div className=\"sidebarbuttonwrapper\">\r\n            <SidebarButton\r\n              sidebarContents={[domNode, ...neighbours].map((content) =>\r\n                domToReact(content.children, { replace })\r\n              )}\r\n            />\r\n          </div>\r\n        </Box>\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (!isVisible(domNode)) return <></>;\r\n\r\n  const previous = domNode.previousSibling as any;\r\n  if (\r\n    previous?.attribs?.class === 'sidebar' &&\r\n    domNode.attribs?.['class'] !== 'sidebar'\r\n  ) {\r\n    //if(domNode.attribs?.['style']) domNode.attribs['style']+=\";margin-top: -20px;\";\r\n    //else domNode.attribs['style'] =\"margin-top: -20px;\";\r\n  }\r\n  if (\r\n    domNode.name === 'head' ||\r\n    domNode.name === 'iframe' ||\r\n    domNode.name === 'script'\r\n  ) {\r\n    return <></>;\r\n  }\r\n  if (!localStore?.getItem('no-responsive')) {\r\n    // HACK: Make MMT return appropriate (X)HTML for responsive page.\r\n    if (domNode.attribs?.['class'] === 'body') {\r\n      domNode.attribs['style'] = removeStyleTag(\r\n        removeStyleTag(domNode.attribs?.['style'], 'padding-left'),\r\n        'padding-right'\r\n      );\r\n    }\r\n\r\n    if (domNode.attribs?.['style']) {\r\n      domNode.attribs['style'] = removeStyleTag(\r\n        removeStyleTag(domNode.attribs?.['style'], 'min-width'),\r\n        'width'\r\n      );\r\n    }\r\n  }\r\n\r\n  const hoverLink = domNode.attribs['data-overlay-link-hover'];\r\n  const clickLink = domNode.attribs['data-overlay-link-click'];\r\n  const hoverParent = domNode.attribs['data-highlight-parent'];\r\n  if ((hoverLink || clickLink) && !domNode.attribs['processed']) {\r\n    domNode.attribs['processed'] = 'first';\r\n    const tooltipPath = BASE_URL + hoverLink;\r\n    const dialogPath = BASE_URL + clickLink;\r\n    // eslint-disable-next-line react/display-name\r\n    const WithHighlightable = forwardRef((props, ref) => {\r\n      return (\r\n        <div\r\n          {...props}\r\n          style={{ display: 'inline', cursor: 'pointer' }}\r\n          ref={ref as any}\r\n        >\r\n          <Highlightable domNode={domNode} highlightId={hoverParent} />\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <OverlayDialog\r\n        contentUrl={dialogPath}\r\n        displayNode={\r\n          <NoMaxWidthTooltip\r\n            title={\r\n              <div style={{ minWidth: '300px', maxWidth: '600px' }}>\r\n                <ContentFromUrl\r\n                  url={tooltipPath}\r\n                  modifyRendered={(n) => getChildrenOfBodyNode(n)}\r\n                />\r\n              </div>\r\n            }\r\n          >\r\n            {hoverParent ? (\r\n              <WithHighlightable />\r\n            ) : (\r\n              (domToReact([domNode], { replace }) as any)\r\n            )}\r\n          </NoMaxWidthTooltip>\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  if (hoverParent && !domNode.attribs['processed']) {\r\n    domNode.attribs['processed'] = 'second';\r\n    return <Highlightable domNode={domNode} highlightId={hoverParent} />;\r\n  }\r\n\r\n  // HACK: get url using attribs for the sidebar buttons.\r\n  if (domNode.attribs['onclick']) {\r\n    const rx = /stexMainOverlayOn\\('(.*)'/g;\r\n    const matches = rx.exec(domNode.attribs['onclick']);\r\n    const path = BASE_URL + matches?.[1];\r\n    return (\r\n      <OverlayDialog\r\n        contentUrl={path}\r\n        displayNode={<>{domToReact([domNode])}</>}\r\n      />\r\n    );\r\n  }\r\n  if (domNode.attribs?.['class'] === 'inputref') {\r\n    const inputRef = domNode.attribs['data-inputref-url'];\r\n    return (\r\n      <ExpandableContent\r\n        contentUrl={BASE_URL + inputRef}\r\n        title={domToReact(domNode.children, { replace }) as any}\r\n      />\r\n    );\r\n  }\r\n  return;\r\n};\r\n\r\nexport function mmtHTMLToReact(html: string, skipSidebar = false) {\r\n  return HTMLReactParser(html, {\r\n    replace: (d: any) => replace(d, skipSidebar),\r\n  });\r\n}\r\n","import { Box } from '@mui/material';\nimport { ContentFromUrl } from './ContentFromUrl';\nimport { mmtHTMLToReact } from './mmtParser';\n\nexport const BG_COLOR = 'hsl(210, 20%, 98%)';\n\nexport function StexReactRenderer({ contentUrl }: { contentUrl: string }) {\n  return (\n    <Box display=\"flex\">\n      <Box flexGrow={1} flexBasis={600} bgcolor={BG_COLOR}>\n        <Box p=\"0 10px 0 40px\" maxWidth=\"520px\" m=\"0 auto\" bgcolor={BG_COLOR}>\n          <ContentFromUrl\n            url={contentUrl}\n            modifyRendered={(bodyNode) => bodyNode?.props?.children}\n          />\n        </Box>\n      </Box>\n      <Box\n        flexBasis={300}\n        display={{ xs: 'none', md: 'block' }}\n        bgcolor={BG_COLOR}\n      ></Box>\n    </Box>\n  );\n}\n\nexport { ContentFromUrl, mmtHTMLToReact };\n"],"names":["StexReactRenderer","App","contentUrl","window","BASE_URL","CONTENT_URL","StrictMode","ReactDOM","root","createRoot","document","getElementById","render","LinearProgress","axios","HighlightContext","mmtHTMLToReact","useEffect","useMemo","useState","ContentFromUrl","url","modifyRendered","n","skipSidebar","rendered","setRendered","isLoading","setIsLoading","highlightedParentId","setHighlightedParentId","value","get","catch","_e","then","r","toShow","data","color","fontSize","AddBoxOutlinedIcon","IndeterminateCheckBoxOutlinedIcon","Box","IconButton","ExpandableContent","title","openAtLeastOnce","setOpenAtLeastOnce","isOpen","setIsOpen","changeState","v","cursor","p","e","stopPropagation","background","width","px","ml","borderRadius","bodyNode","props","children","OpenInNew","Button","Dialog","DialogActions","OverlayDialog","displayNode","open","setOpen","display","marginLeft","InfoOutlinedIcon","Menu","MenuItem","SidebarButton","sidebarContents","anchorEl","setAnchorEl","Boolean","handleClick","event","currentTarget","handleClose","map","content","styled","Tooltip","tooltipClasses","HTMLReactParser","domToReact","Element","createContext","forwardRef","useContext","IS_SERVER","localStore","undefined","localStorage","NoMaxWidthTooltip","className","popper","tooltip","maxWidth","backgroundColor","removeStyleTag","style","tag","start","indexOf","end","substring","getChildrenOfBodyNode","htmlNode","body","isSidebar","node","attribs","isVisible","type","trim","length","visibilityAttrib","isLeafNode","name","getFirstDisplayNode","child","first","getNextNode","domNode","nextAncestor","current","nextSibling","parent","collectNeighbours","neighbours","next","push","_id","Highlightable","highlightId","replace","sidebarNode","idx","xs","md","marginTop","previous","previousSibling","class","getItem","hoverLink","clickLink","hoverParent","tooltipPath","dialogPath","WithHighlightable","ref","minWidth","rx","matches","exec","path","inputRef","html","d","BG_COLOR"],"sourceRoot":""}